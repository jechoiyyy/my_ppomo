# Pomodoro Sync Planner - 기획안

## 1) 프로젝트 목표
- Focus To-Do(포모도로 + 할 일 관리) 경험을 참고한 로컬 호스팅 앱 구축
- React + TypeScript 기반 웹 앱
- Docker로 실행/배포
- 여러 PC에서 동일 데이터(할 일, 오늘/내일 계획, 포모도로 기록) 동기화
- 실시간 동시 편집은 지원하지 않음

## 2) 핵심 가치
- 빠른 집중 시작: 1클릭 포모도로 시작
- 계획과 실행 연결: To-do에서 바로 타이머 실행
- 멀티 디바이스 일관성: 어느 PC에서 접속해도 동일 상태
- 개인 생산성 기록: 일/주 단위 집중 시간과 완료량 확인

## 3) 대상 사용자
- 개인 사용자(1인)
- 여러 장소(집/회사/노트북)에서 같은 계정으로 사용하는 사용자
- 팀 협업/공동 편집이 아닌 개인 작업 관리 중심

## 4) 범위 정의
### MVP 포함
- 포모도로 타이머
  - 작업/짧은 휴식/긴 휴식 사이클
  - 기본 프리셋(25/5, 50/10), 사용자 설정 저장
- To-do 관리
  - 할 일 CRUD, 우선순위, 예상 포모도로 수, 완료 처리
  - 오늘 할 일 / 내일 할 일 분리
- 집중 기록
  - 완료 포모도로 수, 총 집중 시간, 날짜별 통계
- 동기화
  - 중앙 서버(DB) 기반 저장
  - 페이지 로드/작업 시점 동기화(폴링 또는 수동 새로고침)
  - 다른 PC 변경 감지 시 경고 후 최신 상태 갱신
- Docker 실행
  - `docker compose`로 프론트/백/DB 기동

### MVP 제외
- 실시간 협업(WebSocket 동시편집)
- 팀/프로젝트 공유
- 푸시 알림(브라우저/모바일)
- 오프라인 우선 동기화 충돌 해결

## 5) 제품 원칙
- 단순성 우선: 기능 수보다 사용 흐름 최적화
- 신뢰성 우선: 타이머/기록 데이터 유실 방지
- 확장 가능성: 추후 동시접속/알림 기능 확장 가능한 구조

## 6) 사용자 시나리오
1. 사용자는 아침에 접속해 오늘 할 일을 등록한다.
2. 항목 하나를 선택해 포모도로를 시작한다.
3. 포모도로 완료 시 자동으로 해당 작업에 집중 횟수가 반영된다.
4. 저녁에 다른 PC로 접속해도 같은 할 일/기록이 보인다.
5. 내일 할 일 탭에서 다음날 계획을 미리 작성한다.

## 7) 정보 구조(IA)
- 대시보드
  - 오늘 요약(완료 개수, 집중 시간, 진행 중 타이머)
- Tasks
  - Inbox(전체)
  - Today
  - Tomorrow
  - Completed
- Timer
  - 현재 세션 + 연결된 작업
- Insights
  - 일/주 통계
- Settings
  - 타이머 길이, 자동 시작 여부, 사운드 등

## 8) 기술 방향
- Frontend: React + TypeScript + Vite
- Backend: Node.js + TypeScript (REST API)
- DB: PostgreSQL
- ORM: Prisma
- 인증: JWT(access + refresh), 단일 사용자 로그인(회원가입 미지원)
- Infra: Docker Compose

## 9) 동기화 전략 (동시접속 미구현 반영)
- 기준 저장소는 서버 DB
- 클라이언트는 API 호출 후 최신 서버 상태 재조회
- 변경 충돌(다른 PC 선반영) 감지 시:
  - `다른 PC에서 변경됨. 최신 데이터로 갱신합니다.` 문구 표시
  - 서버 최신 데이터로 화면 갱신
- 재접속 시 진행 중 세션이 있으면 복구하지 않고 short break 초기 상태로 리셋
- 충돌 해결 정책(간단):
  - 동일 데이터가 여러 PC에서 순차 수정된 경우, 마지막 저장 기준(last write wins)
  - 동시 편집 방지는 목표가 아니므로 고급 lock/version 충돌 처리 미적용

## 10) 단계별 로드맵
### Phase 0. 설계
- 요구사항/명세 확정
- 화면 흐름 및 API 설계 확정

### Phase 1. MVP 구현
- 인증/기본 레이아웃
- 할 일 CRUD + 오늘/내일 분류
- 포모도로 타이머 + 세션 기록
- Docker Compose 배포

### Phase 2. 안정화
- 기본 테스트(단위/통합)
- 백업/복구 가이드
- 로그/에러 핸들링 개선

### Phase 3. 확장(선택)
- 캘린더 뷰
- 반복 작업
- 알림/사운드 고도화

## 11) 성공 지표 (MVP)
- 핵심 플로우 완주율:
  - 할 일 생성 -> 타이머 실행 -> 세션 기록 저장
- 데이터 일관성:
  - 서로 다른 PC에서 조회 시 동일 데이터 확인
- 성능:
  - 대시보드 첫 로딩 2초 내(로컬 네트워크 기준)
